<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>管理者日付選択画面</title>
</head>
 <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f0f0f0;
        }
        h1 {
            color: #333;
        }
        #calendar {
            margin-bottom: 20px;
        }
        #date-picker {
            font-size: 16px;
            padding: 5px;
        }
        #selected-date-info {
            background-color: #fff;
            border: 1px solid #ddd;
            padding: 10px;
            margin-top: 20px;
        }
        #admin-list {
            list-style-type: none;
            padding: 0;
        }
        #admin-list li {
            background-color: #fff;
            border: 1px solid #ddd;
            margin-bottom: 5px;
            padding: 10px;
        }
    </style>
</head>
<body>
    <h1>営業日選択画面</h1>
    <div id="calendar">
        <input type="date" id="date-picker" min="2024-10-01" max="2024-10-31">
    </div>
    <div id="selected-date-info"></div>
    <ul id="admin-list"></ul>

    <script>
        document.getElementById('date-picker').addEventListener('change', function(e) {
            const selectedDate = e.target.value;
            fetchBookingInfo(selectedDate);
        });

        function fetchBookingInfo(date) {
            // 実際の環境では、ここでサーバーにAjaxリクエストを送信します
            // この例では、モックデータを使用しています
            const mockData = [
                { id: 1, time: '10:00', customerName: '山田太郎' },
                { id: 2, time: '14:00', customerName: '佐藤花子' },
                { id: 3, time: '16:00', customerName: '鈴木一郎' }
            ];
            
            // 実際のAjaxリクエストの例:
            // fetch(`/api/bookings?date=${date}`)
            //     .then(response => response.json())
            //     .then(data => {
            //         displayBookingInfo(data);
            //         updateAdminList(data);
            //     });

            // モックデータを使用した処理
            setTimeout(() => {
                displayBookingInfo(mockData);
                updateAdminList(mockData);
            }, 500); // 0.5秒の遅延を追加してAjaxリクエストをシミュレート
        }

        function displayBookingInfo(data) {
            const infoDiv = document.getElementById('selected-date-info');
            infoDiv.innerHTML = `<h2>選択日の予約情報</h2>`;
            infoDiv.innerHTML += `<p>予約件数: ${data.length}件</p>`;
        }

        function updateAdminList(data) {
            const adminList = document.getElementById('admin-list');
            adminList.innerHTML = ''; // リストをクリア
            data.forEach(item => {
                const li = document.createElement('li');
                li.textContent = `予約ID: ${item.id}, 時間: ${item.time}, 顧客名: ${item.customerName}`;
                adminList.appendChild(li);
            });
        }
    </script>
</body>
</html>